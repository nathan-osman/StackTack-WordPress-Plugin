(function(){(function(b){function h(a){if("undefined"!=typeof a.dataset)return a.dataset;var d={};b.each(a.attributes,function(b,c){null!==c.name.match(/^data-/)&&(d[c.name.replace(/^data-/,"")]=c.value)});return d}function j(a,d,e,c,f,k){e=(a.secure?"https://":"http://")+"api.stackexchange.com/2.0"+e;c.key=a.key;c.site=d;c.filter=a.filter;b.ajax({url:e,data:c,dataType:"jsonp",success:function(c){"undefined"!=typeof c.error_message?k(c.error_message):f(c.items)}})}function l(a){var d='<div class="tags">';
b.each(a,function(b,c){d+="<div>"+c+"</div>"});return d+"</div>"}function m(a,d){var e={};b.each(d,function(c,b){e[b.question_id]=b});b.each(a,function(c,f){var a=e[f.id],d=b(f.element);d.addClass("stacktack-container");d.css("width",f.width+"px");var g;g='<div class="branding">Stack<span>Tack</span></div>'+('<a href="'+a.link+'" target="_blank" class="heading">'+a.title+'</a><div class="hr" />'+a.body);f.tags&&(g+=l(a.tags));g+='<div class="hr" />';if(a.answer_count){a.answers.sort(function(c,a){return a.score-
c.score});var i=[];b.each(a.answers,function(c,a){if(!f.acceptedonly||a.is_accepted)i.push('<div class="heading answer-count">'+a.score+" votes"+(a.is_accepted?" - <span>Accepted</span>":"")+"</div>"+a.body)});g+=i.join('<div class="hr" />')}else g+='<p class="tip">There are currently no answers.</p>';d.html(g)})}b.fn.stacktack=function(a){var d=b.extend({},b.fn.stacktack.defaults,a),e={};this.each(function(){var a=b.extend({},d,h(this),{element:this});if("undefined"!=typeof a.id){var f=a.site.replace(/\.com$/,
"");"undefined"==typeof e[f]&&(e[f]=[]);e[f].push(a)}});b.each(e,function(a,f){var e=[];b.each(f,function(a,b){e.push(b.id)});var h=b.unique(e).join(";");j(d,a,"/questions/"+h,{},function(a){m(f,a)},function(){})})};b.fn.stacktack.defaults={acceptedonly:!0,key:"CRspH1WAlZKCeCinkGOLHw((",filter:"!-)dQB3E8g_ab",secure:!1,site:"stackoverflow",tags:!0,width:600}})(jQuery)})();