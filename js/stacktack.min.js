(function(){(function(g){function j(a){if("undefined"!=typeof a.dataset)return a.dataset;var e={};g.each(a.attributes,function(b,f){null!==f.name.match(/^data-/)&&(e[f.name.replace(/^data-/,"")]=f.value)});return e}function k(a,e,b,f,d,h){b=(a.secure?"https://":"http://")+"api.stackexchange.com/2.0"+b;f.key=a.key;f.site=e;f.filter=a.filter;g.ajax({url:b,data:f,dataType:"jsonp",success:function(b){"undefined"!=typeof b.error_message?h(b.error_message):d(b.items)}})}function l(a){var e='<div class="tags">';
g.each(a,function(b,f){e+="<div>"+f+"</div>"});return e+"</div>"}function i(a){return"undefined"!=typeof a.link?'<a href="'+a.link+'" class="user-link">by '+a.display_name+"</a>":'<span class="user-link">'+a.display_name+"</span>"}function m(a,e){var b=a.answers.sort(function(b,c){return c.score-b.score}),f={};g.each(b,function(b,c){f[c.answer_id]=c});var d=[];"all"==e.answers?d=b:"accepted"==e.answers?"undefined"!=typeof a.accepted_answer_id&&"undefined"!=typeof f[a.accepted_answer_id]?d.push(f[a.accepted_answer_id]):
d.push(b[0]):(b=e.answers.split(","),g.each(b,function(b,c){"undefined"!=typeof f[c]&&d.push(f[c])}));b="";if(d.length){var h=[];g.each(d,function(b,c){h.push('<a href="'+c.link+'" target="_blank" class="heading answer-count">'+c.score+" votes"+(c.is_accepted?' - <span class="accepted">Accepted</span>':"")+"</a>"+i(c.owner)+c.body)});b+=h.join('<div class="hr" />')}else b+='<p class="tip">No answers matched the specified criteria.</p>';return b}function n(a,e){var b={};g.each(e,function(f,d){b[d.question_id]=
d});g.each(a,function(f,d){var a=b[d.id],e=g(d.element);e.addClass("stacktack-container");e.css("width",d.width+"px");var c;c='<div class="branding">Stack<span>Tack</span></div>'+('<a href="'+a.link+'" target="_blank" class="heading">'+a.title+"</a>"+i(a.owner)+'<div class="hr" />'+a.body);d.tags&&(c+=l(a.tags));"none"!=d.answers&&(c+='<div class="hr" />',c="undefined"!=typeof a.answers?c+m(a,d):c+'<p class="tip">This question does not have any answers.</p>');e.html(c)})}g.fn.stacktack=function(a){var e=
g.extend({},g.fn.stacktack.defaults,a),b={};this.each(function(){var a=g.extend({},e,j(this),{element:this});if("undefined"!=typeof a.id){var d=a.site.replace(/\.com$/,"");"undefined"==typeof b[d]&&(b[d]=[]);b[d].push(a)}});g.each(b,function(a,b){var h=[];g.each(b,function(a,b){h.push(b.id)});var i=g.unique(h).join(";");k(e,a,"/questions/"+i,{},function(a){n(b,a)},function(){})})};g.fn.stacktack.defaults={answers:"accepted",key:"CRspH1WAlZKCeCinkGOLHw((",filter:"!-)dQB3E8g_ab",secure:!1,site:"stackoverflow",
tags:!0,width:"auto"}})(jQuery)})();